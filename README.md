# Volzhanin ESP32
## Этапы сварки: 
 1. Оплавление
 2. Прогрев
 3. Тех.пауза
 4. Осадка
 5. Сварка
 6. Сварка с пониженным давлением
## Протокол обмена

### Sevice ID 3b4001a1-6cf9-41aa-991c-6092c909arch Архив
Функция **READ** чтение архивов с текущего этапа arch_state.
Возвращает архивы сварки каждого отдельного этапа: 23.5;23.5;12.5;34.5;12.8;...34.6
Функция **WRITE** запись параметров для чтения архивов offset - смещение, arch_state - архив конкретного этапа.

Пример команды: {"offset":0,"arch_state":1}
Команда стереть все архивы: {"offset":0,"arch_state":0}

### Sevice ID 9250fdf0-d060-4a17-aea1-28952009weld Сварка
Функция **READ** чтение текущих параметров сварки welding_param.
Возвращает текущие параметры сварки: 123456789;106;25;106;0;31.8;900;1800;40;9600;49;123456789;823456789

Функция **WRITE** запись параметров сварки и старт процесса.
Примеры команд: 
{cmd:0, sp_p:[106,25,106,0,31.8], st_t:[900,1800,40,9600,49], ts:123456789, id:"12345678"}, где cmd:0 - параметр для записи параметров сварки, sp_p - уставки давлений каждого этапа, st_t - время длительности каждого этапа в секундах, ts - время начала сварки UTC, id - уникальный ID сварки.
{cmd:1, state:1}, cmd:1 - параметр для перехода на следующий этап, state:1 - этап сварки

Функция **NOTIFY** подписаться на уведомления от устройства.
Возвращает текущий этап сварки, оповещения о выходе параметров за пределы, давление, напряжение батареи, температуру: 1;0;23.5;4.2;12.1
